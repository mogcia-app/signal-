# コードレビューチェックリスト

商用化に向けたコードレビューのチェックリストです。

## 📌 重要な注意



- ✅ **自動化ツール**（ESLint、Prettierなど）でチェックできる部分
- 👥 **他の人に依頼**（エンジニア、フリーランス、レビューサービス）する部分
- 🤖 **外部サービス**（Snyk、GitHub Actionsなど）で自動チェックする部分


## 🔒 セキュリティ（最優先）

> **誰がチェック？**: セキュリティ専門家または経験豊富なエンジニアに依頼

### 認証・認可

- [ ] すべてのAPIルートで認証チェックが実装されている
- [ ] ユーザーIDの検証が適切に行われている
- [ ] 他のユーザーのデータにアクセスできないようになっている
- [ ] Firestoreのセキュリティルールが適切に設定されている

### 機密情報の管理

- [ ] 環境変数がハードコードされていない（`npm run lint`で一部チェック可能）
- [ ] APIキーがクライアント側に露出していない
- [ ] `.env`ファイルが`.gitignore`に含まれている（確認済み ✅）
- [ ] 本番環境の環境変数が適切に設定されている

### 入力検証

- [ ] ユーザー入力のサニタイズが実装されている
- [ ] XSS対策が実装されている
- [ ] ファイルアップロードの検証が実装されている
- [ ] バリデーションエラーが適切に処理されている

## ⚠️ エラーハンドリング

> **誰がチェック？**: エンジニアまたは自動テスト

- [ ] すべてのAPIルートでエラーハンドリングが実装されている
- [ ] エラーメッセージがユーザーに分かりやすく表示されている
- [ ] エラーログが適切に記録されている
- [ ] 機密情報がエラーメッセージに含まれていない

## 🚀 パフォーマンス

> **誰がチェック？**: エンジニアまたはパフォーマンス監視ツール

### データベース

- [ ] 不要なデータ取得がない
- [ ] インデックスが適切に設定されている
- [ ] ページネーションが実装されている（必要に応じて）
- [ ] クエリが最適化されている

### フロントエンド

- [ ] 不要な再レンダリングがない
- [ ] 画像が最適化されている
- [ ] バンドルサイズが適切（`npm run build`で確認可能）

## 📝 コード品質

> **誰がチェック？**: ESLint（自動） + エンジニア

### 保守性

- [ ] コードの重複がない（`npm run lint`で一部チェック可能）
- [ ] 関数が適切に分割されている
- [ ] 命名規則が統一されている（`npm run lint`でチェック可能）
- [ ] コメントが適切に書かれている

### TypeScript

- [ ] 型定義が適切（TypeScriptコンパイラで自動チェック ✅）
- [ ] `any`型の使用が最小限（`npm run lint`で警告表示）
- [ ] 型エラーがない（TypeScriptコンパイラで自動チェック ✅）

## 🧪 テスト

> **誰がチェック？**: 自動テスト（`npm run test`）

- [ ] 重要な機能にテストが書かれている
- [ ] テストが通っている（`npm run test`で自動チェック ✅）
- [ ] テストカバレッジが適切（`npm run test:coverage`で確認可能）

## 📚 ドキュメント

- [ ] READMEが最新の状態
- [ ] APIドキュメントが整備されている（必要に応じて）
- [ ] コメントが適切に書かれている

## 🔧 開発ツール

### 実行コマンド

```bash
# リンターの実行
npm run lint

# リンターの自動修正
npm run lint:fix

# フォーマットの実行
npm run format

# フォーマットのチェック
npm run format:check

# セキュリティ監査
npm run security:audit

# Snykでのセキュリティチェック（初回は認証が必要）
npm run security:snyk
```

### Pre-commitフック

コミット前に自動的に以下が実行されます：

- ESLintチェック
- Prettierフォーマットチェック

## 📋 レビュープロセス

### 🤖 自動化できる部分（あなたがやること）

1. **コミット前（自動実行）**
   - Huskyが自動的にESLintとPrettierをチェック
   - エラーがある場合はコミットがブロックされる

2. **定期的なチェック（必要に応じて）**
   ```bash
   npm run lint          # コード品質チェック
   npm run security:audit # セキュリティ監査
   ```

### 👥 他の人に依頼する部分

3. **コードレビューを依頼**
   - **フリーランスエンジニア**に依頼
   - **コードレビューサービス**（CodeRabbit、Reviewableなど）を利用
   - **GitHubのPull Request**でレビューを依頼

4. **セキュリティ監査を依頼**
   - **セキュリティ専門家**に依頼
   - **ペネトレーションテスト**を実施
   - **Snyk**などのサービスを利用

### 📝 チェックリストの使い方

このチェックリストは：
- **レビュアー**（エンジニアなど）が使うもの
- **自動化ツール**でチェックできる項目のリスト
- **依頼する際の要件**として使うもの

**あなた自身が手動でチェックする必要はありません！**

## 🎯 優先度

### 高（必須）

- セキュリティ関連のすべての項目
- エラーハンドリング
- 認証・認可

### 中（推奨）

- パフォーマンス最適化
- コード品質
- テスト

### 低（可能な範囲で）

- ドキュメント
- コードのリファクタリング

## 💡 まとめ：あなたがやること

### ✅ 自動化ツールでチェック（簡単）

```bash
# 定期的に実行（月1回程度でOK）
npm run lint          # コード品質チェック
npm run security:audit # セキュリティ監査
npm run test          # テスト実行
```

### 👥 他の人に依頼（商用化前）

1. **コードレビューを依頼**
   - フリーランスエンジニアに依頼
   - このチェックリストを渡して「これを見てレビューして」と依頼

2. **セキュリティ監査を依頼**
   - セキュリティ専門家に依頼
   - または、Snykなどのサービスを利用

### 📋 チェックリストの使い方

このチェックリストは：
- **依頼する際の要件書**として使う
- **レビュアーがチェックする項目**のリスト
- **自動化ツールでチェックできる項目**の確認

**あなた自身が手動でチェックする必要はありません！**

ツールと他の人を活用して、効率的にコードレビューを進めましょう 🚀
